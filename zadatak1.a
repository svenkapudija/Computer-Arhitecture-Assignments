		`ORG 0;
		MOVE 1004, R0
		MOVE 500, R1
		
		LOAD R5, (PREDZNK)
		LOAD R2, (R0-4)
		CMP R2, 0
		JR_EQ KRAJ
		
PETLJA	LOAD R3, (R0)
		LOAD R4, (R0+4)
		AND R4, R5, R4
		JR_Z SPREMI
		XOR R3, 0FFFF, R3
		ADD R3, 1, R3
		
SPREMI	STOREH R3, (R1)
		ADD R0, 8, R0
		ADD R1, 2, R1
		SUB R2, 1, R2
		JR_NZ PETLJA
		
KRAJ	MOVE 8000, R0
		STOREH R0, (R1)
		
		HALT
		
PREDZNK	DW 80000000
		`ORG 1000
		DW 5, 1, 80000000, 4, 0, 2, 80000000, 42, 0, 24, 80000000
